(function(n){n._obq=[];n._init=function(){for(i=0;i<this._obq.length;i++)this._obq[i].call(this);const n=new Event("sopro.loaded"),t=new Event("outbase.loaded");window.dispatchEvent(n);window.dispatchEvent(t)};n._log=function(n){console.debug(n)};n.logVisit=function(){function e(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16))}function c(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}function o(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"}function s(n,t){var i=new XMLHttpRequest;i.open("POST",n,!0);i.setRequestHeader("Content-type","application/json");i.onreadystatechange=function(){i.readyState==4&&i.status==200};i.send(JSON.stringify(t))}var h,n,r;let u=!0;document.addEventListener("visibilitychange",function(n){u=!u;console.debug(n)});let f=window.location.search,l=new URLSearchParams(f),t="_obid",i=undefined;if(f!=undefined&&f!=""&&l!=undefined&&f.includes(t))i=l.get(t),navigator.cookieEnabled&&o(t,i,365);else{let n=c(t);n!=""&&(i=n,navigator.cookieEnabled&&o(t,i,365))}if(i!=undefined&&i!=null){let r=c(t+"_visit");r==""?(r=e(),o(t+"_visit",r,.168)):o(t+"_visit",r,.168);let v=window.location.origin+window.location.pathname,l=e();h="https://weblytics.sopro.io/WebsiteWidget/PageVisit";n={};n.PageVisitId=l;n.VisitId=r;n.WidgetGuidId=i;n.WebSiteWidgetClientId="4127e506-fb39-458f-a029-a7432a01cccd";n.PageUrl=v;n.QueryString=f;n.Created=new Date;u&&s(h,n);let a=function(n){var t={};t.PageVisitId=n;t.LastTimeSeen=new Date;u&&s("https://weblytics.sopro.io/WebsiteWidget/PageVisitHeartBeat",t);setTimeout(a,5e3,n)};setTimeout(a,5e3,l)}else{var a=!1;if(1){let t=e();if(a)t="";else{let i=window.location.origin+window.location.pathname;t=e();h="https://anonymous-api.azurewebsites.net/WebIntent/PageVisit";n={};n.PageVisitId=t;n.WebSiteWidgetClientId="4127e506-fb39-458f-a029-a7432a01cccd";n.PageUrl=i;n.QueryString=f;n.Created=new Date;n.isAnonymous=!0;n.insertUnknownVisits=!1;u&&s(h,n)}r=0;let i=function(n){var t={};t.PageVisitId=n;t.LastTimeSeen=new Date;t.IsAnonymous=!0;t.SecondsToIncrease=r==0?5:r<=6?10:r<=9?20:30;u&&s("https://anonymous-api.azurewebsites.net/WebIntent/PageVisitHeartBeat",t);r<=6?setTimeout(i,1e4,n):r<=9?setTimeout(i,2e4,n):setTimeout(i,3e4,n);r++};t!=undefined&&t!=null&&t!=""&&setTimeout(i,5e3,t)}}};n._obq.push(n.logVisit);n.validateWidget=function(){var u,r;let t=window.location.search,i=new URLSearchParams(t),n=undefined;if(t!=undefined&&t!=""&&i!=undefined&&(n=i.get("_validateobw")),!(n===undefined||n==null)){u="https://portal.sopro.io/websiteplugin/PluginVerified";r={};r.Id=n;var f=document.currentScript,e=new URLSearchParams(f.src.replace(/^[^\?]+\??/,"")),o=e.get("key");window.location="https://portal.sopro.io/websiteplugin/PluginVerified?Id="+o}};n._obq.push(n.validateWidget)})(window.outbase);window.outbase._init()